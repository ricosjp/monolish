<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>monolish: Compile and run simple program on CPU</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">monolish
   &#160;<span id="projectnumber">0.14.0</span>
   </div>
   <div id="projectbrief">MONOlithic LIner equation Solvers for Highly-parallel architecture</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Compile and run simple program on CPU </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md4"></a>
Namespace and header files</h1>
<p>The monolish namespace contains <a class="el" href="../../d7/d15/classmonolish_1_1vector.html" title="vector class">monolish::vector</a> and <a class="el" href="../../d2/d67/classmonolish_1_1view1_d.html" title="1D view class">monolish::view1D</a>. monolish has the following 7 namespaces in addition to the monolish namespace:</p><ul>
<li><a class="el" href="../../d9/dba/namespacemonolish_1_1matrix.html" title="Declare sparse and dense matrix class.">monolish::matrix</a> : Provides classes for Dense and Sparse matrices. This can be used by including other header files.</li>
<li><a class="el" href="../../d5/d40/namespacemonolish_1_1blas.html" title="Basic Linear Algebra Subprograms for Dense Matrix, Sparse Matrix, Vector and Scalar.">monolish::blas</a> : Provides a monolithic BLAS API that eliminates dependencies on data types, matrix format, and hardware-specific APIs. This is included in <code><a class="el" href="../../d6/da1/monolish__blas_8hpp.html">monolish_blas.hpp</a></code>.</li>
<li><a class="el" href="../../d8/d91/namespacemonolish_1_1vml.html" title="Vector and Matrix element-wise math library.">monolish::vml</a> : Provides the calculation of mathematical functions to each element of a vector. This is an open-source implementation of the <a href="https://software.intel.com/content/www/us/en/develop/articles/new-mkl-vml-api.html">VML functions included in Intel MKL</a>. This is included in <code><a class="el" href="../../d6/dab/monolish__vml_8hpp.html">monolish_vml.hpp</a></code>.</li>
<li><a class="el" href="../../da/da2/namespacemonolish_1_1equation.html">monolish::equation</a> : Provides a solution for linear equations. This is included in <code><a class="el" href="../../d4/d65/monolish__equation_8hpp.html">monolish_equation.hpp</a></code>.</li>
<li><a class="el" href="../../db/da6/namespacemonolish_1_1standard__eigen.html" title="handling eigenvalues and eigenvectors">monolish::standard_eigen</a> : Provides solutions to standard eigenvalue problems. This is included in <code><a class="el" href="../../d8/def/monolish__eigen_8hpp.html">monolish_eigen.hpp</a></code>.</li>
<li><a class="el" href="../../d3/dba/namespacemonolish_1_1generalized__eigen.html" title="handling eigenvalues and eigenvectors">monolish::generalized_eigen</a> : Provides a solution to the generalized eigenvalue problem. This is included in <code><a class="el" href="../../d5/dad/monolish__generalized__eigen_8hpp.html">monolish_generalized_eigen.hpp</a></code>.</li>
<li><a class="el" href="../../d0/d47/namespacemonolish_1_1util.html" title="monolish utilities">monolish::util</a> : Provides utility functions. This can be used by including other header files.</li>
</ul>
<p>This chapter describes a sample program using monolish that runs on the CPU.</p>
<p>Sample programs that run on the GPU can be found at <code>sample/</code>. They work on the CPU and GPU. The programs running on the GPU are described in the next chapter.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Compute innerproduct</h1>
<p>First, a simple inner product program is shown below:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include&lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include&lt;<a class="code" href="../../d6/da1/monolish__blas_8hpp.html">monolish_blas.hpp</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main(){</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Output log if you need</span></div>
<div class="line">  <span class="comment">// monolish::util::set_log_level(3);</span></div>
<div class="line">  <span class="comment">// monolish::util::set_log_filename(&quot;./monolish_log.txt&quot;);</span></div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">size_t</span> N = 100;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// x = {1,1,...,1}, length N</span></div>
<div class="line">  <a class="code" href="../../d7/d15/classmonolish_1_1vector.html">monolish::vector&lt;double&gt;</a> x(N, 1.0); </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Random vector length N with values in the range 1.0 to 2.0</span></div>
<div class="line">  <a class="code" href="../../d7/d15/classmonolish_1_1vector.html">monolish::vector&lt;double&gt;</a> y(N, 1.0, 2.0); </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// compute innerproduct</span></div>
<div class="line">  <span class="keywordtype">double</span> ans = <a class="code" href="../../d5/d40/namespacemonolish_1_1blas.html#ae2d0ccb507b36f6ee1bea2e0345dacfc">monolish::blas::dot</a>(x, y); </div>
<div class="line"> </div>
<div class="line">  std::cout &lt;&lt; ans &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This program can be compiled by the following command. </p><div class="fragment"><div class="line">g++ -O3 innerproduct.cpp -o innerproduct_cpu.out -lmonolish_cpu</div>
</div><!-- fragment --><p>The following command runs this. </p><div class="fragment"><div class="line">./innerproduct_cpu.out</div>
</div><!-- fragment --><p>A description of this program is given below:</p><ul>
<li>A <a class="el" href="../../d7/d15/classmonolish_1_1vector.html" title="vector class">monolish::vector</a> can be declared like a std::vector.</li>
<li>As an extension, <a class="el" href="../../d7/d15/classmonolish_1_1vector.html" title="vector class">monolish::vector</a> can also create random vectors.</li>
<li>The inner product function is <a class="el" href="../../d5/d40/namespacemonolish_1_1blas.html#ae2d0ccb507b36f6ee1bea2e0345dacfc" title="inner product (dot)">monolish::blas::dot()</a>. It does not need type-dependent function names, for example <code>sdot</code> or <code>ddot</code>.</li>
<li>For the BLAS library called inside <a class="el" href="../../d5/d40/namespacemonolish_1_1blas.html#ae2d0ccb507b36f6ee1bea2e0345dacfc" title="inner product (dot)">monolish::blas::dot()</a>, see <a class="el" href="../../d4/db7/oplist.html">here</a>.</li>
<li>At the end of the function, the memory of <a class="el" href="../../d7/d15/classmonolish_1_1vector.html" title="vector class">monolish::vector</a> is automatically released by the destructor.</li>
</ul>
<p>This program is executed in parallel. The number of threads is specified by the <code>OMP_NUM_THREADS</code> environment variable.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Solve Ax=b</h1>
<p>The following is a sample program that solves a linear equation; Ax=b using the conjugate gradient method with jacobi preconditioner.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include&lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include&lt;<a class="code" href="../../d4/d65/monolish__equation_8hpp.html">monolish_equation.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(){</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Output log if you need</span></div>
<div class="line">  <span class="comment">// monolish::util::set_log_level(3);</span></div>
<div class="line">  <span class="comment">// monolish::util::set_log_filename(&quot;./monolish_log.txt&quot;);</span></div>
<div class="line"> </div>
<div class="line">  <a class="code" href="../../d0/d7e/classmonolish_1_1matrix_1_1_c_o_o.html">monolish::matrix::COO&lt;double&gt;</a> A_COO(<span class="stringliteral">&quot;sample.mtx&quot;</span>); <span class="comment">// Input from file</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Edit the matrix as needed //</span></div>
<div class="line">  <span class="comment">// Execute A_COO.sort() after editing the matrix //</span></div>
<div class="line"> </div>
<div class="line">  <a class="code" href="../../db/da5/classmonolish_1_1matrix_1_1_c_r_s.html">monolish::matrix::CRS&lt;double&gt;</a> A(A_COO); <span class="comment">// Create CRS format and convert from COO format</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// length A.row()</span></div>
<div class="line">  <span class="comment">// Random vector length A.row() with values in the range 1.0 to 2.0</span></div>
<div class="line">  <a class="code" href="../../d7/d15/classmonolish_1_1vector.html">monolish::vector&lt;double&gt;</a> x(A.get_row(), 1.0, 2.0); </div>
<div class="line">  <a class="code" href="../../d7/d15/classmonolish_1_1vector.html">monolish::vector&lt;double&gt;</a> b(A.get_row(), 1.0, 2.0); </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Create CG class</span></div>
<div class="line">  <a class="code" href="../../d0/dec/classmonolish_1_1equation_1_1_c_g.html">monolish::equation::CG&lt;monolish::matrix::CRS&lt;double&gt;</a>, <span class="keywordtype">double</span>&gt; solver; </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Create jacobi preconditioner</span></div>
<div class="line">  <a class="code" href="../../df/d69/classmonolish_1_1equation_1_1_jacobi.html">monolish::equation::Jacobi&lt;monolish::matrix::CRS&lt;double&gt;</a>, <span class="keywordtype">double</span>&gt; precond; </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Set preconditioner to CG solver</span></div>
<div class="line">  solver.<a class="code" href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a94697ada0f3929a6c8ab0dc966750dc9">set_create_precond</a>(precond); </div>
<div class="line">  solver.<a class="code" href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a7f64901d37e1d622884a1e2702c98915">set_apply_precond</a>(precond);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// if you need residual history</span></div>
<div class="line">  <span class="comment">// solver.set_print_rhistory(true);</span></div>
<div class="line">  <span class="comment">// solver.set_rhistory_filename(&quot;./a.txt&quot;);</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Set solver options</span></div>
<div class="line">  solver.<a class="code" href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a1c7e0d5cad23dc1e74db3f55e0aa554d">set_tol</a>(1.0e-12);</div>
<div class="line">  solver.<a class="code" href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a7d7786e1a01ad8d5992e7a41a6ba6039">set_maxiter</a>(A.get_row()); </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Solve Ax=b by CG with jacobi</span></div>
<div class="line">  <a class="code" href="../../d0/d47/namespacemonolish_1_1util.html#a376a2e6e7a83cf532104994aaacfd17e">monolish::util::solver_check</a>(solver.<a class="code" href="../../d0/dec/classmonolish_1_1equation_1_1_c_g.html#a328573e52b9ae6d80bc4edb43bb3aabf">solve</a>(A, x, b)); </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Show answer</span></div>
<div class="line">  x.print_all();</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
Matrix creation</h2>
<p><a class="el" href="../../d0/d7e/classmonolish_1_1matrix_1_1_c_o_o.html" title="Coodinate (COO) format Matrix (need to sort)">monolish::matrix::COO</a> has <code>editable</code> attribute, so users can edit any element using <a class="el" href="../../d0/d7e/classmonolish_1_1matrix_1_1_c_o_o.html#adbaf0d3634e9d2d215de2230bb3575ab">insert()</a> and <a class="el" href="../../d0/d7e/classmonolish_1_1matrix_1_1_c_o_o.html#ad1f217abe22c7889b40584896ff4f65a" title="Get matrix element (A(i,j))">monolish::matrix::COO.at()</a> "at()" functions. COO can be created by giving array pointer or file name to the constructor, too. This sample program creates a matrix from a file. The input file format is <a href="https://math.nist.gov/MatrixMarket/formats.html">MatrixMarket format</a>. MatrixMarket format is a common data format for sparse matrices. <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.io.mmwrite.html#scipy.io.mmwrite">scipy</a> can also output matrices in MatrixMarket format.</p>
<p><a class="el" href="../../db/da5/classmonolish_1_1matrix_1_1_c_r_s.html" title="Compressed Row Storage (CRS) format Matrix.">monolish::matrix::CRS</a> can easily be generated by taking COO as an argument to the constructor.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Solving Ax=b</h2>
<p>monolish proposes a new way to implement linear solvers.</p>
<p>Applying preconditioning means combining multiple solvers. In other words, the solver and preconditioner in the Krylov subspace method are essentially the same thing.</p>
<p>The solver classes included in <a class="el" href="../../da/da2/namespacemonolish_1_1equation.html">monolish::equation</a> all have the following functions:</p><ul>
<li><a class="el" href="../../d0/dec/classmonolish_1_1equation_1_1_c_g.html#a328573e52b9ae6d80bc4edb43bb3aabf">solve()</a> : Solve the simultaneous linear equations.</li>
<li><a class="el" href="../../d0/dec/classmonolish_1_1equation_1_1_c_g.html#a426ba877c848e42f4acd3ffabd99faec">create_precond()</a> : Create the preconditioning matrix M.</li>
<li><a class="el" href="../../d0/dec/classmonolish_1_1equation_1_1_c_g.html#a44c6d9f24d8d81b219659fb5a8b99f15">apply_precond()</a> : Apply preconditioner according to the created preprocessing matrix M.</li>
<li><a class="el" href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a94697ada0f3929a6c8ab0dc966750dc9">set_create_precond()</a> : Register another class' create_precond to the class as a function to create the preprocessing matrix.</li>
<li><a class="el" href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a7f64901d37e1d622884a1e2702c98915">set_apply_precond()</a> : Register "apply_precond" of another class to the class as a function to apply preprocessing.</li>
</ul>
<p>The class that executes <code>solve()</code> execute the registered <code>create_precond()</code> and <code>apply_precond()</code>. If no preconditioner is registered, it calls <a class="el" href="../../d0/ddf/classmonolish_1_1equation_1_1none.html" title="none solver class(nothing to do)">monolish::equation::none</a> as "none preconditioner".</p>
<p>By being able to register the creation and application of preconditioners separately, users can use the preconditioner matrix in different ways.</p>
<p>In the current version, the create_precond() and apply_precond() functions of some classes do not work. In the future, we will make these functions work in all classes. This implementation would be very efficient for multi-grid methods.</p>
<p>See <a class="el" href="../../d7/df6/solverlist.html">here</a> for a list of solvers.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Improve solver program</h1>
<p>The program in the previous chapter has the matrix storage format, data type, solver name, and preconditioner name explicitly specified all over the program.</p>
<p>If users want to change them depending on the input matrix, this implementation requires a lot of program changes.</p>
<p>Since monolish is designed so that the matrix and solver classes all have the same interface, these changes can be eliminated by templating.</p>
<p>A templated program is shown below.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include&lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include&quot;<a class="code" href="../../d6/da1/monolish__blas_8hpp.html">monolish_blas.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include&quot;<a class="code" href="../../d4/d65/monolish__equation_8hpp.html">monolish_equation.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Template a matrix format, solver and preconditioer.</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> MATRIX, <span class="keyword">typename</span> SOLVER, <span class="keyword">typename</span> PRECOND, <span class="keyword">typename</span> FLOAT&gt;</div>
<div class="line"><span class="keywordtype">void</span> solve(){</div>
<div class="line">  <a class="code" href="../../d0/d7e/classmonolish_1_1matrix_1_1_c_o_o.html">monolish::matrix::COO&lt;FLOAT&gt;</a> A_COO(<span class="stringliteral">&quot;sample.mtx&quot;</span>); <span class="comment">// Input from file</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Edit the matrix as needed //</span></div>
<div class="line">  <span class="comment">// Execute A_COO.sort() after editing the matrix //</span></div>
<div class="line">  </div>
<div class="line">  MATRIX A(A_COO); <span class="comment">// Create CRS format and convert from COO format</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Length A.row()</span></div>
<div class="line">  <span class="comment">// Random vector length A.row() with values in the range 1.0 to 2.0</span></div>
<div class="line">  <a class="code" href="../../d7/d15/classmonolish_1_1vector.html">monolish::vector&lt;FLOAT&gt;</a> x(A.get_row(), 1.0, 2.0); </div>
<div class="line">  <a class="code" href="../../d7/d15/classmonolish_1_1vector.html">monolish::vector&lt;FLOAT&gt;</a> b(A.get_row(), 1.0, 2.0); </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Create solver</span></div>
<div class="line">  SOLVER solver; </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Create preconditioner</span></div>
<div class="line">  PRECOND precond;</div>
<div class="line">  solver.<a class="code" href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a94697ada0f3929a6c8ab0dc966750dc9">set_create_precond</a>(precond);</div>
<div class="line">  solver.set_apply_precond(precond);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Set solver options</span></div>
<div class="line">  solver.set_tol(1.0e-12);</div>
<div class="line">  solver.set_maxiter(A.get_row());</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// if you need residual history</span></div>
<div class="line">  <span class="comment">// solver.set_print_rhistory(true);</span></div>
<div class="line">  <span class="comment">// solver.set_rhistory_filename(&quot;./a.txt&quot;);</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Solve</span></div>
<div class="line">  <a class="code" href="../../d0/d47/namespacemonolish_1_1util.html#a376a2e6e7a83cf532104994aaacfd17e">monolish::util::solver_check</a>(solver.solve(A, x, b)); </div>
<div class="line"> </div>
<div class="line">  <span class="comment">// output x to standard output</span></div>
<div class="line">  x.print_all();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(){</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// output log if you need</span></div>
<div class="line">  <span class="comment">// monolish::util::set_log_level(3);</span></div>
<div class="line">  <span class="comment">// monolish::util::set_log_filename(&quot;./monolish_test_log.txt&quot;);</span></div>
<div class="line"> </div>
<div class="line">  std::cout &lt;&lt;  <span class="stringliteral">&quot;A is Dense, solver is CG, precondition is Jacobi, precision is double&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  solve&lt;</div>
<div class="line">    <a class="code" href="../../db/da5/classmonolish_1_1matrix_1_1_c_r_s.html">monolish::matrix::CRS&lt;double&gt;</a>, </div>
<div class="line">    <a class="code" href="../../d0/dec/classmonolish_1_1equation_1_1_c_g.html">monolish::equation::CG&lt;monolish::matrix::CRS&lt;double&gt;</a>,<span class="keywordtype">double</span>&gt;,</div>
<div class="line">    <a class="code" href="../../df/d69/classmonolish_1_1equation_1_1_jacobi.html">monolish::equation::Jacobi&lt;monolish::matrix::CRS&lt;double&gt;</a>,<span class="keywordtype">double</span>&gt;,</div>
<div class="line">    <span class="keywordtype">double</span>&gt;();</div>
<div class="line"> </div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;A is Dense, solver is BiCGSTAB, precondition is none, precision is float&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  solve&lt;</div>
<div class="line">    <a class="code" href="../../db/d46/classmonolish_1_1matrix_1_1_dense.html">monolish::matrix::Dense&lt;float&gt;</a>, </div>
<div class="line">    <a class="code" href="../../d1/dde/classmonolish_1_1equation_1_1_bi_c_g_s_t_a_b.html">monolish::equation::BiCGSTAB&lt;monolish::matrix::Dense&lt;float&gt;</a>,<span class="keywordtype">float</span>&gt;,</div>
<div class="line">    <a class="code" href="../../d0/ddf/classmonolish_1_1equation_1_1none.html">monolish::equation::none&lt;monolish::matrix::Dense&lt;float&gt;</a>,<span class="keywordtype">float</span>&gt;,</div>
<div class="line">    <span class="keywordtype">float</span>&gt;();</div>
<div class="line"> </div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;A is Dense, solver is LU, precondition is none, precision is double&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  solve&lt;</div>
<div class="line">    <a class="code" href="../../db/d46/classmonolish_1_1matrix_1_1_dense.html">monolish::matrix::Dense&lt;double&gt;</a>, </div>
<div class="line">    <a class="code" href="../../da/da4/classmonolish_1_1equation_1_1_l_u.html">monolish::equation::LU&lt;monolish::matrix::Dense&lt;double&gt;</a>,<span class="keywordtype">double</span>&gt;,</div>
<div class="line">    <a class="code" href="../../d0/ddf/classmonolish_1_1equation_1_1none.html">monolish::equation::none&lt;monolish::matrix::Dense&lt;double&gt;</a>,<span class="keywordtype">double</span>&gt;,</div>
<div class="line">    <span class="keywordtype">double</span>&gt;();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This program is templated so that the function that solves Ax=b is not oblivious to the matrix storage format or data type. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="aclassmonolish_1_1equation_1_1_bi_c_g_s_t_a_b_html"><div class="ttname"><a href="../../d1/dde/classmonolish_1_1equation_1_1_bi_c_g_s_t_a_b.html">monolish::equation::BiCGSTAB</a></div><div class="ttdoc">BiCGSTAB solver class.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d65/monolish__equation_8hpp_source.html#l00111">monolish_equation.hpp:111</a></div></div>
<div class="ttc" id="aclassmonolish_1_1solver_1_1solver_html_a7f64901d37e1d622884a1e2702c98915"><div class="ttname"><a href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a7f64901d37e1d622884a1e2702c98915">monolish::solver::solver::set_apply_precond</a></div><div class="ttdeci">void set_apply_precond(PRECOND &amp;p)</div><div class="ttdoc">set precondition apply fucntion</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d28/precond_8cpp_source.html#l00051">precond.cpp:51</a></div></div>
<div class="ttc" id="aclassmonolish_1_1equation_1_1_c_g_html_a328573e52b9ae6d80bc4edb43bb3aabf"><div class="ttname"><a href="../../d0/dec/classmonolish_1_1equation_1_1_c_g.html#a328573e52b9ae6d80bc4edb43bb3aabf">monolish::equation::CG::solve</a></div><div class="ttdeci">int solve(MATRIX &amp;A, vector&lt; Float &gt; &amp;x, vector&lt; Float &gt; &amp;b)</div><div class="ttdoc">solve Ax = b by BiCGSTAB method(lib=0: monolish)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1c/cg_8cpp_source.html#l00098">cg.cpp:98</a></div></div>
<div class="ttc" id="aclassmonolish_1_1matrix_1_1_dense_html"><div class="ttname"><a href="../../db/d46/classmonolish_1_1matrix_1_1_dense.html">monolish::matrix::Dense</a></div><div class="ttdoc">Dense format Matrix.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de7/monolish__coo_8hpp_source.html#l00028">monolish_coo.hpp:28</a></div></div>
<div class="ttc" id="amonolish__blas_8hpp_html"><div class="ttname"><a href="../../d6/da1/monolish__blas_8hpp.html">monolish_blas.hpp</a></div></div>
<div class="ttc" id="aclassmonolish_1_1solver_1_1solver_html_a7d7786e1a01ad8d5992e7a41a6ba6039"><div class="ttname"><a href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a7d7786e1a01ad8d5992e7a41a6ba6039">monolish::solver::solver::set_maxiter</a></div><div class="ttdeci">void set_maxiter(size_t max)</div><div class="ttdoc">set max iter. (default = SIZE_MAX)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0e/monolish__solver_8hpp_source.html#l00095">monolish_solver.hpp:95</a></div></div>
<div class="ttc" id="aclassmonolish_1_1equation_1_1_c_g_html"><div class="ttname"><a href="../../d0/dec/classmonolish_1_1equation_1_1_c_g.html">monolish::equation::CG</a></div><div class="ttdoc">CG solver class.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d65/monolish__equation_8hpp_source.html#l00063">monolish_equation.hpp:63</a></div></div>
<div class="ttc" id="aclassmonolish_1_1equation_1_1_l_u_html"><div class="ttname"><a href="../../da/da4/classmonolish_1_1equation_1_1_l_u.html">monolish::equation::LU</a></div><div class="ttdoc">LU solver class (Dense, CPU only now)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d65/monolish__equation_8hpp_source.html#l00201">monolish_equation.hpp:201</a></div></div>
<div class="ttc" id="anamespacemonolish_1_1blas_html_ae2d0ccb507b36f6ee1bea2e0345dacfc"><div class="ttname"><a href="../../d5/d40/namespacemonolish_1_1blas.html#ae2d0ccb507b36f6ee1bea2e0345dacfc">monolish::blas::dot</a></div><div class="ttdeci">void dot(const vector&lt; double &gt; &amp;x, const vector&lt; double &gt; &amp;y, double &amp;ans)</div><div class="ttdoc">inner product (dot)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d81/vector__blas_8cpp_source.html#l00974">vector_blas.cpp:974</a></div></div>
<div class="ttc" id="amonolish__equation_8hpp_html"><div class="ttname"><a href="../../d4/d65/monolish__equation_8hpp.html">monolish_equation.hpp</a></div></div>
<div class="ttc" id="aclassmonolish_1_1matrix_1_1_c_o_o_html"><div class="ttname"><a href="../../d0/d7e/classmonolish_1_1matrix_1_1_c_o_o.html">monolish::matrix::COO</a></div><div class="ttdoc">Coodinate (COO) format Matrix (need to sort)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de7/monolish__coo_8hpp_source.html#l00038">monolish_coo.hpp:38</a></div></div>
<div class="ttc" id="anamespacemonolish_1_1util_html_a376a2e6e7a83cf532104994aaacfd17e"><div class="ttname"><a href="../../d0/d47/namespacemonolish_1_1util.html#a376a2e6e7a83cf532104994aaacfd17e">monolish::util::solver_check</a></div><div class="ttdeci">bool solver_check(const int err)</div><div class="ttdoc">check error</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df0/equation__utils_8cpp_source.html#l00007">equation_utils.cpp:7</a></div></div>
<div class="ttc" id="aclassmonolish_1_1solver_1_1solver_html_a1c7e0d5cad23dc1e74db3f55e0aa554d"><div class="ttname"><a href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a1c7e0d5cad23dc1e74db3f55e0aa554d">monolish::solver::solver::set_tol</a></div><div class="ttdeci">void set_tol(double t)</div><div class="ttdoc">set tolerance (default:1.0e-8)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0e/monolish__solver_8hpp_source.html#l00089">monolish_solver.hpp:89</a></div></div>
<div class="ttc" id="aclassmonolish_1_1vector_html"><div class="ttname"><a href="../../d7/d15/classmonolish_1_1vector.html">monolish::vector</a></div><div class="ttdoc">vector class</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de7/monolish__coo_8hpp_source.html#l00025">monolish_coo.hpp:25</a></div></div>
<div class="ttc" id="aclassmonolish_1_1solver_1_1solver_html_a94697ada0f3929a6c8ab0dc966750dc9"><div class="ttname"><a href="../../db/dac/classmonolish_1_1solver_1_1solver.html#a94697ada0f3929a6c8ab0dc966750dc9">monolish::solver::solver::set_create_precond</a></div><div class="ttdeci">void set_create_precond(PRECOND &amp;p)</div><div class="ttdoc">set precondition create fucntion</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d28/precond_8cpp_source.html#l00011">precond.cpp:11</a></div></div>
<div class="ttc" id="aclassmonolish_1_1equation_1_1none_html"><div class="ttname"><a href="../../d0/ddf/classmonolish_1_1equation_1_1none.html">monolish::equation::none</a></div><div class="ttdoc">none solver class(nothing to do)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d65/monolish__equation_8hpp_source.html#l00031">monolish_equation.hpp:31</a></div></div>
<div class="ttc" id="aclassmonolish_1_1equation_1_1_jacobi_html"><div class="ttname"><a href="../../df/d69/classmonolish_1_1equation_1_1_jacobi.html">monolish::equation::Jacobi</a></div><div class="ttdoc">Jacobi solver class.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d65/monolish__equation_8hpp_source.html#l00159">monolish_equation.hpp:159</a></div></div>
<div class="ttc" id="aclassmonolish_1_1matrix_1_1_c_r_s_html"><div class="ttname"><a href="../../db/da5/classmonolish_1_1matrix_1_1_c_r_s.html">monolish::matrix::CRS</a></div><div class="ttdoc">Compressed Row Storage (CRS) format Matrix.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de7/monolish__coo_8hpp_source.html#l00029">monolish_coo.hpp:29</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
